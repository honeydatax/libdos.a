// need file libdos.c to be compile in directory
//bcc -x -i -L -Md hello.c -o HELLO.COM
#define varn 0x0080
char ccc;
char cc;
void sputc(cc);
void sputs(cc);
void resizeStack();
int main(){
	resizeStack();
	sputs("hello world\r\n");
		asm	"db 0xb4,0,0xcd,0x21";
		
	return 0;
}

void sputc(cc)
char cc;
{
	int *c;
	c = (int * ) varn;
	*(c + 0) = cc;

	asm	"db 0xbb,0x80,0x0,0x2e,0x8a,0x17,0xb4,0x02,0xcd,0x21";
}

void sputs(cc)
char *cc;
{
		int i=0;
while(cc[i]!=0){
		sputc(cc[i]);
		i++;
}
}

void resizeStack()
{
	int *c;
	c = (int * ) varn;
	asm	"db 0x1E,0x8C,0xC8,0x05,0x00,0x10,0x8E,0xD8,0xF8,0x89,0xE3,0x89,0xE2,0x90,0x36,0x8A,0x07,0x3E,0x88,0x07,0x43,0x83,0xFB,0x00,0x75,0xF0,0x8C,0xD8,0x8E,0xD0,0x1F";
}

